from pixivpy3 import *
from utils.bfser import bfsRelatedUsers
from utils.tools import saved_json

api = AppPixivAPI()

api.auth(refresh_token='Nte_fDntU17mZchamKsIn96IAt-Hj0QcVpuksoNocc0')

user_ids = [
    431873,
    30837811,
    4733565,
    58338,
    9234,
    944220,
    9427,
    337971,
    1565632,
    871153,
    2131660,
    490219,
    7210261,
    6662895,
    7324626,
    34301427,
    7238253,
    11365815,
    3970196,
    70050825,
    2433217,
    47945116,
    62635184,
    5662397,
    20670939,
    1655331,
    807283,
    22298878,
    2993192,
    3104565,
    217707,
    13716542,
    8012826,
    17783380,
    5151250,
    9153585,
    6818398,
    8187094,
    483730,
    15558289,
    30383053,
    35081,
    34209175,
    3350981,
    2221087,
    11525425,
    11764388,
    16389289,
    4333873,
    27517,
    68651209,
    16653031,
    25512469,
    15147502,
    23034,
    60073850,
    33541716,
    15173067,
    648285,
    212801,
    5323203,
    23098486,
    8261520,
    20728711,
    28531493,
    4460847,
    18403608,
    49245814,
    51198160,
    21505771,
    27350443,
    52506459,
    19346159,
    376948,
    4501146,
    420509,
    2517274,
    10704932,
    1159245,
    2166892,
    46971461,
    9297578,
    7758820,
    15034125,
    333556,
    3569577,
    21029246,
    8956220,
    56848926,
    47265,
    787998,
    3728269,
    15404426,
    10292,
    13662481,
    2003931,
    429077,
    8020084,
    3197898,
    11049645,
    28530416,
    12756857,
    801146,
    1024922,
    409226,
    882569,
    4210443,
    6657532,
    8673088,
    795196,
    237082,
    1113943,
    2063338,
    8764301,
    159905,
    15845619,
    5882183,
    15847203,
    1960050,
    6203904,
    7618326,
    6327914,
    444732,
    3439325,
    1710950,
    19325193,
    2106422,
    2642047,
    9212166,
    1554775,
    3447787,
    32540028,
    8187094,
    31715383,
    32778021,
    2066175,
    15158551,
    45833,
    13992671,
    135302,
    40329579,
    16347608,
    33740731,
    30383053,
    49640022,
]

user_ids = bfsRelatedUsers(api, user_ids)
print(len(user_ids))
saved_json('./data/user_ids.json', user_ids)

if __name__ == "__main__":
    pass
